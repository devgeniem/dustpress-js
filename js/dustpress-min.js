window.DustPress=function(e,r,$){var s={};return s.defaults={type:"post",tidy:!1,render:!1,partial:"",upload:!1,success:function(){},error:function(){},uploadProgress:function(){},downloadProgress:function(){}},s.start=function(){},s.complete=function(){},s.ajax=function(t,a){var o=$.extend({},s.defaults,a);s.success=o.success,s.error=o.error,s.uploadProgress=o.uploadProgress,s.downloadProgress=o.downloadProgress,s.get=o.get?a.get:"",s.path=t,s.params=a,s.get.length&&!s.get.startsWith("?")&&(s.get="?"+s.get);var d=Math.random()+""+Math.random(),n=new Date;n.setTime(n.getTime()+864e5),r.cookie="dpjs_token="+d+"; expires="+n.toGMTString()+"; path=/";var u={url:e.location+s.get,method:o.type,data:{dustpress_data:{path:t,args:o.args,render:o.render,tidy:o.tidy,partial:o.partial,token:d}}};o.upload&&(u.xhr=function(){var r=new e.XMLHttpRequest;r.upload.addEventListener("progress",s.uploadProgressHandler,!1),r.addEventListener("progress",s.downloadProgressHandler,!1)}),s.start(),$.ajax(u).done(s.successHandler).fail(s.errorHandler).complete(s.complete)},s.successHandler=function(t,a,o){var d=$.parseJSON(t);if(r.cookie="dpjs_token=; expires=-1; path=/",e.DustPressDebugger){delete s.params.success,delete s.params.error;var n={params:s.params,data:d.debug?d.debug:d};e.DustPressDebugger.extend(n,s.path)}void 0===d.error?s.success(d.success,a,o):s.error(d,a,o)},s.errorHandler=function(e,t,a){r.cookie="dpjs_token=; expires=-1; path=/",s.error({error:a},t,e)},s.uploadProgressHandler=function(e){if(e.lengthComputable){var r=e.loaded/e.total;s.uploadProgress(r)}},s.downloadProgressHandler=function(e){if(e.lengthComputable){var r=e.loaded/e.total;s.downloadProgress(r)}},s}(window,document,jQuery);var dp=window.DustPress.ajax;