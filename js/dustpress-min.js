window.DustPress=function(e,r,$){var t={};return t.defaults={type:"post",tidy:!1,render:!1,partial:"",upload:!1,success:function(){},error:function(){},uploadProgress:function(){},downloadProgress:function(){}},t.start=function(){},t.complete=function(){},t.ajax=function(o,a){var s=$.extend({},t.defaults,a);t.success=s.success,t.error=s.error,t.uploadProgress=s.uploadProgress,t.downloadProgress=s.downloadProgress,t.get=s.get?a.get:"",t.path=o,t.params=a,t.get.length&&!t.get.startsWith("?")&&(t.get="?"+t.get);var n="";if("undefined"!=typeof e.crypto&&"function"==typeof e.crypto.getRandomValues)for(var d=0;4>d;d++)n+=e.crypto.getRandomValues(new Uint32Array(1));else n=Math.random()+""+Math.random();var u=new Date;u.setTime(u.getTime()+864e5),r.cookie="dpjs_token="+n+"; expires="+u.toGMTString()+"; path=/";var l={url:e.location+t.get,method:s.type,data:{dustpress_data:{path:o,args:s.args,render:s.render,tidy:s.tidy,partial:s.partial,token:n}}};s.upload&&(l.xhr=function(){var r=new e.XMLHttpRequest;r.upload.addEventListener("progress",t.uploadProgressHandler,!1),r.addEventListener("progress",t.downloadProgressHandler,!1)}),t.start(),$.ajax(l).done(t.successHandler).fail(t.errorHandler).complete(t.complete)},t.successHandler=function(o,a,s){var n=$.parseJSON(o);if(r.cookie="dpjs_token=; expires=-1; path=/",e.DustPressDebugger){delete t.params.success,delete t.params.error;var d={params:t.params,data:n.debug?n.debug:n};e.DustPressDebugger.extend(d,t.path)}void 0===n.error?t.success(n.success,a,s):t.error(n,a,s)},t.errorHandler=function(e,o,a){r.cookie="dpjs_token=; expires=-1; path=/",t.error({error:a},o,e)},t.uploadProgressHandler=function(e){if(e.lengthComputable){var r=e.loaded/e.total;t.uploadProgress(r)}},t.downloadProgressHandler=function(e){if(e.lengthComputable){var r=e.loaded/e.total;t.downloadProgress(r)}},t}(window,document,jQuery);var dp=window.DustPress.ajax;